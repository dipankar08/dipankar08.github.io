<html>
<head>
  <link rel="stylesheet" type="text/css" href="../../css/common.css"/>
  <link rel="stylesheet" type="text/css" href="draw.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script> var exports = {}; </script>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
</head>
<body>
    <div class="right">
        <canvas id="canvas" width="100%" height="100%" style="background: #fff;"></canvas>
        <canvas id="canvas1" width="100%" height="100%" style="background:rgba(0,0,0,0);"></canvas>
    </div>
    <div class="left">
        <ul>
            <li title="quickDrow"><i class="logo fas fa-drafting-compass"></i></li>
            <li title="box" onclick="mDrawManager.select(DrawOption.RECT)"><i class="fas fa-vector-square"></i></li>
            <li title="line" onclick="mDrawManager.select(DrawOption.LINE)"><i class="fas fa-wave-square"></i></li>
            <li title="directed line" onclick="mDrawManager.select(DrawOption.LINE_D)"><i class="fas fa-long-arrow-alt-right"></i></li>
            <li title="both direction line" onclick="mDrawManager.select(DrawOption.LINE_DD)"><i class="fas fa-arrows-alt-h"></i></li>
            <li title="text" onclick="mDrawManager.select(DrawOption.TEXT)"><i class="fas fa-font"></i></li>
            <li title="clear" onclick="mDrawManager.select(DrawOption.CLEAR)"><i class="fas fa-eraser"></i></li>
            <li class="sep"></li>
            <li title="select" onclick="mDrawManager.select(DrawOption.SELECT)"><i class="fas fa-mouse-pointer"></i></li>
            <li title="move" onclick="mDrawManager.select(DrawOption.MOVE)"><i class="fas fa-expand-arrows-alt"></i></li>
            <li title="resize" onclick="mDrawManager.select(DrawOption.RESIZE)"><i class="fas fa-expand-arrows-alt"></i></li>
            <li title="delete" onclick="mDrawManager.select(DrawOption.SELECTED_DELETE)"><i class="fas fa-trash"></i></li>
            <li title="duplicate" onclick="mDrawManager.select(DrawOption.COPY_AND_MOVE)""> <i class="far fa-clone"></i></li>
            <li class="sep"></li>
            <li title="redo" onclick="mDrawManager.redo()"><i class="fas fa-redo"></i></li>
            <li title="undo" onclick="mDrawManager.undo()"><i class="fas fa-undo"></i></li>
            <li title="clear all" onclick="mDrawManager.clearAll()"><i class="fas fa-ban"></i></li>
            <li class="sep"></li>
          <li title="color" onclick="mDrawManager.setStyle(CONSTANT.THEME.DEFAULT)"><i style="color:#ffffff" class="fas fa-tint"></i></li>
          <li title="color" onclick="mDrawManager.setStyle(CONSTANT.THEME.RED)"><i style="color:red"   class="fas fa-tint"></i></li>
          <li title="color" onclick="mDrawManager.setStyle(CONSTANT.THEME.GREEN)"><i  style="color:green"  class="fas fa-tint"></i></li>
          <li title="color"  onclick="mDrawManager.setStyle(CONSTANT.THEME.YELLOW)"><i style="color:yellow" class="fas fa-tint"></i></li>
        </ul>
    </div>
    <div class="text">
        <input type="text" onchange="mDrawManager.onTextChange(this.value)" placeholder="type any text"><button onclick="mDrawManager.onTextSubmit()">Submit</button><button onclick="mDrawManager.onTextCanecl()">Submit</button>
    </div>
</body>
<script type="text/javascript" src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script type="text/javascript" src="output.js"></script>
<script>
require(["draw","interface"], function (DM) {
    mDrawManager = new DM.DrawManager('canvas', 'canvas1')
    //mDrawManager.attach(new TestPoint());
    console.log("[INFO] Init Done");
    mDrawManager.setUiCallback({
      'onTextBoxShown':function(){
        console.log("Text Box shown");
      },
      'onTextBoxHide':function(){
        console.log("Text Box Hide");
      },
  })
});
require(["interface"], function (DP) {
  DrawOption = DP.DrawOption;
})
require(["constant"], function (DP) {
  CONSTANT = DP.CONSTANT;
})
$('html').keyup(function(e){
    if(e.keyCode == 68) { //press d
        mDrawManager.select(DrawOption.SELECTED_DELETE);
    }
});
</script>
</html>

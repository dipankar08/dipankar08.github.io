<div class="whiteboard">
    <div id="aww-wrapper"></div>
    <div class="modal-loading-indicator" style="display:none"></div>
  </div>
  
  <style>
  .container-page-standard {
    padding-top: 20px;
  }
  
  #aww-wrapper {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    background: #1d2126; /* @interview-background-color */
  }
  
  #aww-chat-window {
    display: none !important;
  }
  </style>
  
  <script type="text/javascript" src="https://awwapp.com/static/widget/js/aww.min.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    var boardLink = location.search.match(/[\?&]awwBoard=([^&]+)/);
    var colorMatch = location.search.match(/[\?&]color=([^&]+)/);
    var color = colorMatch ? ('#' + colorMatch[1]) : '#ffffff';
  
    // trash and image open little modal that has styling completely messed up
    // rectangle and lineStraight tools do not render submenu items --> to fix this, customTools !
    var tools = ['pencil', 'eraser', 'undo', 'mark', 'text', 'rectangle', 'lineStraight', 'ellipse', 'trash', 'image'];
  
    var config = {
      apiKey: 'd8506fc6-3697-4872-aa38-ca521b42d6ff',
      boardLink:'us7vwg7azx87c',
      menuOrder: ['colors', 'sizes', 'customTools'],
      tools: tools,
      sizes: [1, 3, 8, 20, 50, 100],
      defaultSize: 3,
      fontSizes: [10, 16, 24, 40, 60],
      colors: [color, "#ffffff", "#FADC5D", "#EE2C2C", "#4caf50", "#5198DF", "#9c27b0", "#795548", "#000000"],
      defaultColor: color,
      defaultTool: 'pencil',
    };
  
    var svgConfigs = {
      pencil: {
        paths: ['M19.104 0.896c-0.562-0.562-1.309-0.871-2.104-0.871s-1.542 0.309-2.104 0.871l-12.75 12.75c-0.052 0.052-0.091 0.114-0.116 0.183l-2 5.5c-0.066 0.183-0.021 0.387 0.116 0.524 0.095 0.095 0.223 0.146 0.354 0.146 0.057 0 0.115-0.010 0.171-0.030l5.5-2c0.069-0.025 0.131-0.065 0.183-0.116l12.75-12.75c0.562-0.562 0.871-1.309 0.871-2.104s-0.309-1.542-0.871-2.104zM5.725 17.068l-4.389 1.596 1.596-4.389 11.068-11.068 2.793 2.793-11.068 11.068zM18.396 4.396l-0.896 0.896-2.793-2.793 0.896-0.896c0.373-0.373 0.869-0.578 1.396-0.578s1.023 0.205 1.396 0.578c0.373 0.373 0.578 0.869 0.578 1.396s-0.205 1.023-0.578 1.396z'],
      },
      eraser: {
        paths: ['M19.715 6.913c-0.026-0.155-0.077-0.305-0.155-0.446-0.114-0.209-0.276-0.38-0.472-0.506-0.002-0.001-0.003-0.002-0.005-0.003-0.010-0.007-0.021-0.013-0.032-0.020-0.096-0.059-0.205-0.108-0.327-0.145-0.024-0.007-0.049-0.014-0.074-0.021l-6.060-1.515c-0.162-0.040-0.34-0.061-0.53-0.061-0.599 0-1.25 0.205-1.658 0.523l-7.421 5.772c-0.51 0.396-1.069 1.187-1.273 1.799l-1.368 4.103c-0.129 0.386-0.094 0.791 0.098 1.14s0.515 0.596 0.909 0.694l6.060 1.515c0.162 0.040 0.34 0.061 0.53 0.061 0.474 0 0.981-0.129 1.374-0.341 0.091-0.046 0.186-0.106 0.284-0.182l7.421-5.772c0.51-0.396 1.069-1.187 1.273-1.799l1.368-4.103c0.092-0.275 0.111-0.504 0.057-0.694zM12.062 5.197c0.107 0 0.206 0.011 0.287 0.031l6.033 1.508-7.4 5.755c-0.236 0.184-0.666 0.312-1.044 0.312-0.107 0-0.206-0.011-0.287-0.031l-6.033-1.508 7.4-5.755c0.236-0.184 0.666-0.312 1.044-0.312zM1.316 17.052c-0.056-0.102-0.065-0.224-0.026-0.343l1.368-4.103c0.092-0.276 0.408-0.45 0.691-0.379 0 0 0 0 0 0l6.060 1.515c0.121 0.030 0.219 0.103 0.275 0.205s0.065 0.224 0.026 0.343l-1.368 4.103c-0.092 0.276-0.409 0.45-0.691 0.379l-1.030-0.257c-0 0-0-0-0-0l-5.030-1.257c-0.121-0.030-0.219-0.103-0.275-0.206zM16.404 12.719l-6.907 5.372 1.162-3.485c0.143-0.429 0.581-1.049 0.938-1.326l6.907-5.372-1.162 3.485c-0.143 0.429-0.581 1.048-0.938 1.326z'],
      },
      undo: {
        paths: ['M17.51 4.49c-1.605-1.605-3.74-2.49-6.010-2.49s-4.405 0.884-6.010 2.49-2.49 3.74-2.49 6.010v1.293l-2.146-2.146c-0.195-0.195-0.512-0.195-0.707 0s-0.195 0.512 0 0.707l3 3c0.098 0.098 0.226 0.146 0.354 0.146s0.256-0.049 0.354-0.146l3-3c0.195-0.195 0.195-0.512 0-0.707s-0.512-0.195-0.707 0l-2.146 2.146v-1.293c0-4.136 3.364-7.5 7.5-7.5s7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5c-0.276 0-0.5 0.224-0.5 0.5s0.224 0.5 0.5 0.5c2.27 0 4.405-0.884 6.010-2.49s2.49-3.74 2.49-6.010c0-2.27-0.884-4.405-2.49-6.010z'],
      },
      mark: {
        paths: ['M12.499999.625c-.34375 0-.625.2799999-.625.6249999l0 4.9999994c0 .345.28125.625.625.625.34375 0 .625-.28.625-.625l0-4.9999994c0-.345-.28125-.6249999-.625-.6249999M12.499999 18.124998c-.34375 0-.625.28-.625.625l0 4.999999c0 .345.28125.625.625.625.34375 0 .625-.28.625-.625l0-4.999999c0-.345-.28125-.625-.625-.625M6.8749994 12.499999c0-.345-.28125-.625-.625-.625l-4.9999994 0c-.34374994 0-.62499991.28-.62499991.625 0 .345.28124997.625.62499991.625l4.9999994 0c.34375 0 .625-.28.625-.625M23.749997 11.874999l-4.999999 0c-.34375 0-.625.28-.625.625 0 .345.28125.625.625.625l4.999999 0c.34375 0 .625-.28.625-.625 0-.345-.28125-.625-.625-.625M20.887378 10.624999c-.27 0-.5175-.175-.59875-.44625-.78375-2.6387498-2.82875-4.6824996-5.4675-5.4674995-.33125-.09875-.52-.4462499-.42125-.7774999.0975-.33125.44625-.5187499.77875-.4212499 1.4825.4412499 2.84875 1.2574998 3.95 2.3574997 1.10125 1.0999998 1.91625 2.4674997 2.3575 3.9512497.09875.3312499-.09.6787499-.42125.7774999-.05875.0175-.12.02625-.17875.02625l.0012 0zM14.999998 21.512378c-.27 0-.5175-.175-.59875-.44625-.1-.33125.09-.67875.42-.7775 2.63875-.785 4.68375-2.82875 5.46875-5.4675.09875-.33125.44625-.51875.7775-.42125.33125.0975.52.44625.42125.7775-.44125 1.48375-1.25625 2.85-2.3575 3.95125-1.1 1.10125-2.46625 1.91625-3.95 2.3575-.06125.0175-.12125.02625-.18.02625l-.0013 0zM9.999999 21.512378c-.05875 0-.12-.0087-.17875-.02625-1.4837498-.44125-2.8499997-1.25625-3.9524995-2.3575-1.1012499-1.10125-1.9149998-2.46625-2.3549997-3.95125-.10125-.33125.08875-.67875.4187499-.7775.3325-.09875.6787499.09.7799999.42125.7824999 2.6375 2.8274997 4.68125 5.4662494 5.46625.33125.09875.52.44625.42125.7775-.08125.27125-.33.4475-.59875.4475l-.00125 0zM4.1124997 10.624999c-.05875 0-.11875-.0088-.18-.02625-.33-.09875-.5174999-.44625-.4187499-.7774999C3.9537497 8.3374991 4.7699996 6.9712492 5.8687495 5.8699994 6.9699993 4.7687495 8.3362492 3.9537496 9.821249 3.5124997c.33125-.09875.67875.09.77625.4212499.10125.33125-.08875.6787499-.41875.7774999-2.6387497.7849999-4.6837495 2.8287497-5.4674994 5.4674995-.08125.27125-.3299999.4475-.5987499.4475l0-.0013z'],
        dim: 25,
      },
      text: {
        paths: ['M12.96,14.303 L10.39,8.307 C10.389,8.306 10.389,8.304 10.388,8.303 L6.96,0.303 C6.881,0.119 6.7,1.77635684e-15 6.5,1.77635684e-15 C6.3,1.77635684e-15 6.119,0.119 6.04,0.303 L2.612,8.303 C2.611,8.305 2.611,8.306 2.61,8.308 L0.04,14.304 C-0.069,14.558 0.049,14.852 0.303,14.961 C0.557,15.07 0.851,14.952 0.96,14.698 L3.402,9.001 L9.6,9.001 L12.042,14.698 C12.123,14.888 12.308,15.001 12.502,15.001 C12.568,15.001 12.635,14.988 12.699,14.96 C12.953,14.851 13.07,14.557 12.962,14.303 L12.96,14.303 Z M3.83,8 L6.5,1.769 L9.17,8 L3.829,8 L3.83,8 Z'],
        dim: 14,
      },
      rectangle: {
        paths: ['M1.5 0C.67 0 0 .67 0 1.5v17c0 .83.67 1.5 1.5 1.5h17c.83 0 1.5-.67 1.5-1.5v-17c0-.83-.67-1.5-1.5-1.5h-17zM2 1h16c.554 0 1 .446 1 1v16c0 .554-.446 1-1 1H2c-.554 0-1-.446-1-1V2c0-.554.446-1 1-1z'],
        fillRule: 'evenodd',
      },
      lineStraight: {
        paths: ['m 20.449015,17.483493 -18.7500091,0 c -0.34375,0 -0.6250001,-0.2813 -0.6250001,-0.624999 0,-0.343801 0.2812501,-0.625001 0.6250001,-0.625001 l 18.7500091,0 c 0.34375,0 0.625,0.2812 0.625,0.625001 0,0.343699 -0.28125,0.624999 -0.625,0.624999', 'M 17.383518,2.0332412 3.8674663,20.812601 c -0.247795,0.344288 -0.678849,0.461654 -0.957809,0.260879 -0.279042,-0.200835 -0.304534,-0.646791 -0.05674,-0.991079 L 16.368969,1.3030413 c 0.247795,-0.34428819 0.678768,-0.46171289 0.95781,-0.2608782 0.27896,0.2007752 0.304533,0.6467899 0.05674,0.9910781'],
      },
      ellipse: {
        paths: ['M 10 0 A 10 10 0 0 0 0 10 A 10 10 0 0 0 10 20 A 10 10 0 0 0 20 10 A 10 10 0 0 0 10 0 z M 10 1 A 9 9 0 0 1 19 10 A 9 9 0 0 1 10 19 A 9 9 0 0 1 1 10 A 9 9 0 0 1 10 1 z'],
        fillRule: 'evenodd',
      },
    };
    // will leak dom elements, but w.e
    function makeSvg(name) {
      var config = svgConfigs[name];
      var xmlns = 'http://www.w3.org/2000/svg';
      var s = document.createElementNS(xmlns, 'svg');
      var dim = config.dim || 20;
      s.setAttributeNS(null, 'viewBox', '0 0 ' + dim + ' ' + dim);
      for (var i = 0; i < config.paths.length; i++) {
        var p = document.createElementNS(xmlns, 'path');
        p.setAttributeNS(null, 'd', config.paths[i]);
        if (config.fillRule) p.setAttributeNS(null, 'fill-rule', config.fillRule); // assumes applies for all paths
        s.appendChild(p);
      }
      return s;
    };
  
    function onclickTool(tool) {
      return function() {
        aww._dispatcher.emit('change-tool', {tool: tool});
        config.menuItems.customTools.content = makeSvg(tool);
        aww._dispatcher.emit('update-ui');
      };
    }
  
    var aww;
    // XXX support trash and image (ideally fix modal padding though)
    config.menuItems = {
      customTools: {
        content: makeSvg(config.defaultTool),
        submenu: [{
          onclick: onclickTool('pencil'),
          content: makeSvg('pencil'),
        }, {
          onclick: onclickTool('eraser'),
          content: makeSvg('eraser'),
        }, {
          onclick: function() {
            aww.doUndo();
          },
          content: makeSvg('undo'),
        }, {
          onclick: onclickTool('mark'),
          content: makeSvg('mark'),
        }, {
          onclick: onclickTool('text'),
          content: makeSvg('text'),
        }, {
          onclick: onclickTool('rectangle'),
          content: makeSvg('rectangle'),
        }, {
          onclick: onclickTool('ellipse'),
          content: makeSvg('ellipse'),
        }, {
          onclick: onclickTool('lineStraight'),
          content: makeSvg('lineStraight'),
        }],
      },
    };
  
    if (boardLink) {
      config.boardLink = boardLink[1];
      config.autoJoin = true;
    }
    aww = new AwwBoard('#aww-wrapper', config);
  
    if (boardLink && window.parent) {
      (function pollBoard() {
        var boardId = aww.getBoardInfo().boardId;
        if (!boardId) return setTimeout(pollBoard, 300);
        window.parent.postMessage({boardId: boardId}, '*');
      })();
    }
  });
  </script>
  